"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[244],{9613:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>m});var a=n(9496);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=p(n),h=o,m=u["".concat(s,".").concat(h)]||u[h]||d[h]||i;return n?a.createElement(m,r(r({ref:t},c),{},{components:n})):a.createElement(m,r({ref:t},c))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,r=new Array(i);r[0]=h;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[u]="string"==typeof e?e:o,r[1]=l;for(var p=2;p<i;p++)r[p]=n[p];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},7060:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>r,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>p});var a=n(1163),o=(n(9496),n(9613));const i={},r="Creating a Web App",l={unversionedId:"tutorials-and-recipes/creating-web-app",id:"tutorials-and-recipes/creating-web-app",title:"Creating a Web App",description:"In this article, we will go deep into a development process of a new Web",source:"@site/docs/tutorials-and-recipes/creating-web-app.md",sourceDirName:"tutorials-and-recipes",slug:"/tutorials-and-recipes/creating-web-app",permalink:"/docs/docs/tutorials-and-recipes/creating-web-app",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"sidebar",previous:{title:"Test environment",permalink:"/docs/docs/test-environment"},next:{title:"@twa.js/sdk-react",permalink:"/docs/docs/libraries/twa-sdk-react"}},s={},p=[{value:"Before starting",id:"before-starting",level:2},{value:"Creating a Telegram Bot",id:"creating-a-telegram-bot",level:2},{value:"Displaying the Web App",id:"displaying-the-web-app",level:2},{value:"Development",id:"development",level:3},{value:"Hot-reload",id:"hot-reload",level:4},{value:"Ngrok",id:"ngrok",level:4},{value:"Localtunnel",id:"localtunnel",level:4},{value:"Production",id:"production",level:3},{value:"Applying link",id:"applying-link",level:3},{value:"Conclusion",id:"conclusion",level:2}],c={toc:p},u="wrapper";function d(e){let{components:t,...n}=e;return(0,o.kt)(u,(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"creating-a-web-app"},"Creating a Web App"),(0,o.kt)("p",null,"In this article, we will go deep into a development process of a new Web\nApp. It is assumed, that you already have experience in creating new web\napplications using some popular frontend libraries like Angular, React,\nVue, etc. Nevertheless, it is allowed to use vanilla JS. Here is a\nminimal ",(0,o.kt)("a",{parentName:"p",href:"/docs/docs/introduction/required-technologies"},"list of technologies"),"\nrequired for a Web App development."),(0,o.kt)("p",null,"Creating a Web App usually consists of these steps:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Create a Telegram Bot;"),(0,o.kt)("li",{parentName:"ol"},"Create a web application;"),(0,o.kt)("li",{parentName:"ol"},"Get a web application link;"),(0,o.kt)("li",{parentName:"ol"},"Assign the link to the Telegram Bot.")),(0,o.kt)("h2",{id:"before-starting"},"Before starting"),(0,o.kt)("p",null,"Before creating a new Web App, we should learn one rule: ",(0,o.kt)("em",{parentName:"p"},"don't make anything\nrelated to a development in a production environment.")," To create a new\napplication, we should use a test environment. This will make the development\nprocess much easier and more correct. To learn how to switch to the test\nenvironment, read ",(0,o.kt)("a",{parentName:"p",href:"/docs/docs/test-environment"},"this article"),"."),(0,o.kt)("p",null,"In this case, an advantage we get from the test environment is an opportunity\nto use ",(0,o.kt)("inlineCode",{parentName:"p"},"http")," links and even IPs directly. The production environment allows usage\nof only ",(0,o.kt)("inlineCode",{parentName:"p"},"https")," links. "),(0,o.kt)("h2",{id:"creating-a-telegram-bot"},"Creating a Telegram Bot"),(0,o.kt)("p",null,"As long as Web Apps are just add-ons for the Telegram Bots, we should create a\nnew bot. To do this, we use the ",(0,o.kt)("a",{parentName:"p",href:"https://t.me/botfather"},"BotFather"),". Don't\nforget, that you should use an instance of this bot in the test environment,\nnot in the production one."),(0,o.kt)("p",null,"To start a procedure of creating a new Telegram Bot, send a message\nwith text ",(0,o.kt)("inlineCode",{parentName:"p"},"/newbot")," to the BotFather. The BotFather will request an information\nabout new bot and as a result, a new bot will be created. The only one thing we\nneed from this procedure is the bot secret token. It is used during Web Apps\n",(0,o.kt)("a",{parentName:"p",href:"../launch-params/init-data/about"},"init data")," validation."),(0,o.kt)("p",null,"After the bot is successfully created, we should go to the next step \u2014 get and\napply an application link which is used to show an application. So, before\nreading the next section, make sure you created a standard web application\nwhich allows its receiving via some ",(0,o.kt)("inlineCode",{parentName:"p"},"http")," link."),(0,o.kt)("h2",{id:"displaying-the-web-app"},"Displaying the Web App"),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"Before reading this section, it is required to create a standard web application\nwhich allows users to receive it via some link. In a development mode, it could\nbe some temporary URL, in production - static URL.")),(0,o.kt)("p",null,"This step is required in the Web Apps development flow. The reason is Web Apps\nare always presented as usual web applications and, as we know, default way of\ngetting web application is to get them by some URL and render."),(0,o.kt)("p",null,"Talking about Web Apps, it is required to have URL with ",(0,o.kt)("inlineCode",{parentName:"p"},"https")," protocol only.\nBotFather will not allow developer to pass a link with the ",(0,o.kt)("inlineCode",{parentName:"p"},"http")," protocol because\nit is not safe. Additionally, passed ",(0,o.kt)("inlineCode",{parentName:"p"},"https")," link should have a valid\nSSL-certificate. Otherwise, the application will not be shown."),(0,o.kt)("p",null,"As long as production and development links are usually used for different\npurposes, we will describe how to get them separately."),(0,o.kt)("h3",{id:"development"},"Development"),(0,o.kt)("h4",{id:"hot-reload"},"Hot-reload"),(0,o.kt)("p",null,"An application development is rather hard process which is usually observed in\nreal time by a developer. It is common, that while developing an application,\nwe want to see all changes instantly on a device."),(0,o.kt)("p",null,"To see all changes in the real-time, it is required to use such functionality as\n",(0,o.kt)("em",{parentName:"p"},"hot reload"),". In this section we will not describe what hot reload deeply is,\nbut in several words, it is just a technique which allows developers to reload\nparts of the code in real-time and display result without page reload."),(0,o.kt)("p",null,"To develop with a comfort, you will probably need to get it for your current\nfrontend application. Usually, all default templates for popular frontend\nframeworks already include this feature and a hot-reload configuration is not\nrequired."),(0,o.kt)("h4",{id:"ngrok"},"Ngrok"),(0,o.kt)("p",null,"By default, developers have no easy way to get a valid https link which will\nredirect external client to his application. To solve this problem,\nhe could use such service as ",(0,o.kt)("a",{parentName:"p",href:"https://ngrok.com/"},"ngrok"),". It has enough low\nrestrictions to develop an application with comfort."),(0,o.kt)("p",null,"Here comes an example of creating a tunnel to ",(0,o.kt)("inlineCode",{parentName:"p"},"localhost:3000"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"ngrok http 3000\n")),(0,o.kt)("p",null,"Simple, isn't it?"),(0,o.kt)("admonition",{type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"Do not use provided by ngrok link in production. Frontend application should be\nplaced on some hosting and downloaded as set of already prepared static assets.\nSee the ",(0,o.kt)("a",{parentName:"p",href:"#production"},"Production")," section for more information.")),(0,o.kt)("h4",{id:"localtunnel"},"Localtunnel"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://github.com/localtunnel/localtunnel"},"Localtunnel")," is another one free\ntechnology which allows a developer to get ",(0,o.kt)("inlineCode",{parentName:"p"},"https")," link. The one thing which\ndiffers localtunnel from ngrok is it allows reserving specified subdomain.\nFor example, you could reserve subdomain ",(0,o.kt)("inlineCode",{parentName:"p"},"web-apps-test")," via this command:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"lt --port 3000 -s web-apps-test\n# your url is: https://web-apps-test.loca.lt\n")),(0,o.kt)("admonition",{type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"The main problem of this project is when developer stops an application that\nlocatunnel was referring to, tunnel stops working too.")),(0,o.kt)("h3",{id:"production"},"Production"),(0,o.kt)("p",null,"Getting production-ready URL is not that hard task. To get required link, it is\nenough to use rather popular services, such as:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://pages.github.com/"},"GitHub Pages")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://www.heroku.com/"},"Heroku")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://vercel.com/"},"Vercel"))),(0,o.kt)("p",null,"In case, you don\u2019t want to use public hosting, you could create your own server\nwhich serves applications static files. But don\u2019t forget that you still need\nvalid https link, what means, you should have your own DNS name and valid SSL\ncertificate. For this purpose, consider ",(0,o.kt)("a",{parentName:"p",href:"https://certbot.eff.org/"},"certbot"),"."),(0,o.kt)("h3",{id:"applying-link"},"Applying link"),(0,o.kt)("p",null,"When https link is already received, it is required to set it in our Bot. To do\nthis, we should return to BotFather and send message ",(0,o.kt)("inlineCode",{parentName:"p"},"/setmenubutton"),". Then,\nBotFather will ask us to choose bot, link to apply and menu button title."),(0,o.kt)("p",null,"As a result, when user enters a chat with your bot, he will be able to open Web\nApp by clicking bottom left button (which is usually called ",(0,o.kt)("inlineCode",{parentName:"p"},"menu button"),"). It\nis worth mentioning, that it is not the only one way of opening Web App. This\nway of setting https link applies it for each Telegram user, but you are able to\npass specific link for any user. To do this, you should use Telegram API."),(0,o.kt)("h2",{id:"conclusion"},"Conclusion"),(0,o.kt)("p",null,"This is fair enough to create Web App. Nevertheless, this tutorial does not\ncover all platform features. It is recommended to dive deep into all aspects of\nWeb Apps via reading other documentation sections."))}d.isMDXComponent=!0}}]);